{% extends "base.html" %}

{% block content %}
    <!-- Breadcrumb -->
    <nav class="breadcrumb">
        <ul class="breadcrumb-list">
            <li>
                <a href="/"><img src="{{ url_for('static', filename='img/home.svg') }}" alt="" style="width:16px;height:16px;vertical-align:middle;margin-right:4px;">{{ t.NAV_HOME }}</a>
            </li>
            <li class="breadcrumb-separator">></li>
            <li class="current">{{ t.ARCHIVE_TITLE }}</li>
        </ul>
    </nav>

    <div class="container">

    <!-- Statistik-Übersicht -->
    <div class="card" style="margin-bottom: 30px;">
        <h2><img src="{{ url_for('static', filename='img/stats.svg') }}" alt="" style="width:24px;height:24px;vertical-align:middle;margin-right:8px;">{{ t.ARCHIVE_HEADER }}</h2>
        <div class="status-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
            <div class="info-row">
                <span class="info-label">{{ t.ARCHIVE_FILTER_ALL }}</span>
                <span class="info-value" id="total-count">0</span>
            </div>
            <div class="info-row">
                <span class="info-label"><img src="{{ url_for('static', filename='img/audio.svg') }}" alt="" style="width:18px;height:18px;vertical-align:middle;margin-right:4px;">{{ t.ARCHIVE_FILTER_CD }}</span>
                <span class="info-value" id="audio-count">0</span>
            </div>
            <div class="info-row">
                <span class="info-label"><img src="{{ url_for('static', filename='img/dvd.svg') }}" alt="" style="width:18px;height:18px;vertical-align:middle;margin-right:4px;">{{ t.ARCHIVE_FILTER_DVD }}</span>
                <span class="info-value" id="dvd-count">0</span>
            </div>
            <div class="info-row">
                <span class="info-label"><img src="{{ url_for('static', filename='img/bluray.svg') }}" alt="" style="width:18px;height:18px;vertical-align:middle;margin-right:4px;">{{ t.ARCHIVE_FILTER_BLURAY }}</span>
                <span class="info-value" id="bluray-count">0</span>
            </div>
            <div class="info-row">
                <span class="info-label"><img src="{{ url_for('static', filename='img/data.svg') }}" alt="" style="width:18px;height:18px;vertical-align:middle;margin-right:4px;">{{ t.ARCHIVE_FILTER_DATA }}</span>
                <span class="info-value" id="data-count">0</span>
            </div>
        </div>
    </div>

    <!-- Audio CDs -->
    <div class="card" id="audio-section" style="display: none;">
        <h3><img src="{{ url_for('static', filename='img/audio.svg') }}" alt="" style="width:22px;height:22px;vertical-align:middle;margin-right:8px;">{{ t.ARCHIVE_FILTER_CD }}</h3>
        <div class="archive-list" id="audio-list">
            <p class="loading">{{ t.COMMON_LOADING }}</p>
        </div>
    </div>

    <!-- DVDs -->
    <div class="card" id="dvd-section" style="display: none;">
        <h3><img src="{{ url_for('static', filename='img/dvd.svg') }}" alt="" style="width:22px;height:22px;vertical-align:middle;margin-right:8px;">{{ t.ARCHIVE_FILTER_DVD }}</h3>
        <div class="archive-list" id="dvd-list">
            <p class="loading">{{ t.COMMON_LOADING }}</p>
        </div>
    </div>

    <!-- Blu-rays -->
    <div class="card" id="bluray-section" style="display: none;">
        <h3><img src="{{ url_for('static', filename='img/bluray.svg') }}" alt="" style="width:22px;height:22px;vertical-align:middle;margin-right:8px;">{{ t.ARCHIVE_FILTER_BLURAY }}</h3>
        <div class="archive-list" id="bluray-list">
            <p class="loading">{{ t.COMMON_LOADING }}</p>
        </div>
    </div>

    <!-- Daten -->
    <div class="card" id="data-section" style="display: none;">
        <h3><img src="{{ url_for('static', filename='img/data.svg') }}" alt="" style="width:22px;height:22px;vertical-align:middle;margin-right:8px;">{{ t.ARCHIVE_FILTER_DATA }}</h3>
        <div class="archive-list" id="data-list">
            <p class="loading">{{ t.COMMON_LOADING }}</p>
        </div>
    </div>

    </div>

    <!-- Metadata Modal -->
    <div id="metadata-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="metadata-search-type">Metadaten-Suche</h2>
                <span class="modal-close" onclick="closeMetadataModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div id="metadata-search-fields" style="margin-bottom: 20px;">
                    <!-- Wird dynamisch gefüllt -->
                </div>
                <button onclick="searchMetadata()" class="btn btn-primary" style="width: 100%;">Suchen</button>
                <div id="metadata-results" style="margin-top: 20px;">
                    <!-- Suchergebnisse werden hier angezeigt -->
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/archive.js') }}"></script>
{% endblock %}

